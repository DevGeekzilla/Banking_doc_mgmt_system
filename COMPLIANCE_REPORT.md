# ОТЧЕТ О СООТВЕТСТВИИ КРИТЕРИЯМ ЗЭДКД

## ПРОТОТИП ЗАЩИЩЕННОГО ЭЛЕКТРОННОГО ДОКУМЕНТООБОРОТА ДЛЯ КОНФИДЕНЦИАЛЬНЫХ ДОКУМЕНТОВ

---

## 1. КОМПЛЕКС ПРОГРАММ, РЕАЛИЗУЮЩИХ ТЕХНОЛОГИИ ЗАЩИТЫ КОНФИДЕНЦИАЛЬНЫХ ДОКУМЕНТОВ

### 1.1. Обеспечение конфиденциальности
**Реализация:** `CryptoModule::encrypt()` / `CryptoModule::decrypt()`

- **Технология:** Симметричное шифрование XOR (имитация ГОСТ 34.12)
- **Механизм:** Документы шифруются приватным ключом создателя при создании
- **Хранение:** Документы хранятся в зашифрованном виде в бинарном файле `documents.bin`
- **Доступ:** Расшифровка возможна только с использованием приватного ключа создателя
- **Файлы:** `CryptoModule.h`, `CryptoModule.cpp` (строки 9-25)

### 1.2. Защита целостности
**Реализация:** `CryptoModule::computeHash()`

- **Технология:** Вычисление хеша документа (имитация ГОСТ 34.11-2012 Streebog)
- **Механизм:** 
  - Хеш вычисляется при создании документа
  - Проверка целостности при просмотре (`Menu::viewDocument`)
  - Проверка целостности перед подписанием (`Menu::signDocument`)
  - Проверка целостности перед утверждением (`Menu::approveDocument`)
- **Хранение:** Хеш сохраняется вместе с документом
- **Файлы:** `CryptoModule.h`, `CryptoModule.cpp` (строки 27-61), `menu.cpp` (строки 488-490, 593-641, 707-727, 791-816)

### 1.3. Обеспечение аутентификации
**Реализация:** `Menu::authenticate()`

- **Технология:** Проверка учетных данных (username/password)
- **Механизм:**
  - Запрос имени пользователя и пароля
  - Поиск пользователя в базе данных
  - Проверка соответствия пароля
  - Логирование успешного входа и попыток доступа
- **Хранение:** Учетные данные пользователей в бинарном файле `users.bin`
- **Файлы:** `menu.cpp` (строки 308-329), `User.h`, `User.cpp`

### 1.4. Защита авторства и невозможности отказа от авторства
**Реализация:** `CryptoModule::createSignature()` / `CryptoModule::verifySignature()`

- **Технология:** Электронная подпись (имитация ГОСТ 34.10-2012 ECDSA)
- **Механизм:**
  - Подпись = hash(content) + private_key создателя
  - Подпись создается при подписании документа (`Menu::signDocument`)
  - Подпись проверяется при утверждении документа (`Menu::approveDocument`)
  - Невозможность подделки: только создатель документа может создать валидную подпись
- **Хранение:** Подпись сохраняется вместе с документом
- **Файлы:** `CryptoModule.h`, `CryptoModule.cpp` (строки 63-78), `menu.cpp` (строки 750-753, 799-816)

---

## 2. ПОДСИСТЕМА ГЕНЕРАЦИИ КЛЮЧЕЙ ШИФРОВАНИЯ И АУТЕНТИФИКАЦИИ

**Реализация:** `User::generatePrivateKey()`

- **Технология:** Криптографически стойкая генерация ключей
- **Механизм:**
  - Использование `std::random_device` для получения энтропии
  - Генерация 32-символьного hex-ключа (128 бит энтропии)
  - Каждый пользователь получает уникальный ключ
- **Использование:**
  - Шифрование/расшифрование документов пользователя
  - Создание электронных подписей
- **Хранение:** Ключи сохраняются в бинарном файле `users.bin`
- **Файлы:** `User.h`, `User.cpp` (строки 49-59), `menu.cpp` (строки 26-44)

---

## 3. ИНТЕРАКТИВНЫЕ СХЕМЫ ПРОХОЖДЕНИЯ УЧЕТА ДЛЯ ДОКУМЕНТОВ РАЗНЫХ ВИДОВ

### 3.1. Схема жизненного цикла документа

**Этапы:**
1. **СОЗДАНИЕ (DRAFT)** → `Menu::createDocument()`
   - Создание документа оператором
   - Вычисление хеша
   - Шифрование содержимого
   - Статус: DRAFT

2. **ПОДПИСАНИЕ (SIGNED)** → `Menu::signDocument()`
   - Проверка целостности
   - Создание электронной подписи
   - Статус: SIGNED

3. **УТВЕРЖДЕНИЕ (APPROVED)** → `Menu::approveDocument()`
   - Проверка целостности
   - Проверка электронной подписи
   - Статус: APPROVED

4. **ОТКЛОНЕНИЕ (REJECTED)** → `Menu::rejectDocument()`
   - Отклонение документа руководителем
   - Статус: REJECTED

**Файлы:** `menu.cpp` (строки 468-559, 679-760, 762-865, 867-900)

### 3.2. Типы документов

- **Кредитная заявка** (`CREDIT_APPLICATION`)
- **Кредитный договор** (`CREDIT_CONTRACT`)
- **Внутренний приказ** (`INTERNAL_ORDER`)

**Файлы:** `Document.h` (строки 7-11)

---

## 4. НАБОР СВЯЗАННЫХ СО СХЕМОЙ ЭЛЕКТРОННЫХ УЧЕТНЫХ ФОРМ

**Реализация:** `Menu::createDocumentForm()`

### 4.1. Форма кредитной заявки
- Поля: Сумма кредита, Срок кредита, Назначение кредита
- Формат: "Сумма: {sum} | Срок: {term} | Назначение: {purpose}"

### 4.2. Форма кредитного договора
- Поля: Сторона 1 (кредитор), Сторона 2 (заемщик), Сумма договора, Условия договора
- Формат: "Сторона 1: {party1} | Сторона 2: {party2} | Сумма: {sum} | Условия: {conditions}"

### 4.3. Форма внутреннего приказа
- Поля: Номер приказа, Дата приказа, Содержание приказа, Подписант
- Формат: "Номер: {number} | Дата: {date} | Содержание: {content} | Подписант: {signer}"

**Файлы:** `menu.cpp` (строки 415-466)

---

## 5. ОБЩИЙ ИНТЕРФЕЙС ДЛЯ УПРАВЛЕНИЯ ПРОТОТИПОМ

**Реализация:** `Menu::run()` и ролевые меню

### 5.1. Аутентификация
- `Menu::authenticate()` - проверка учетных данных
- Логирование всех попыток входа

### 5.2. Ролевой интерфейс

#### Оператор (`showOperatorMenu`)
- Создание документов
- Просмотр списка документов
- Просмотр документа

#### Менеджер (`showManagerMenu`)
- Все функции оператора
- Подписание документов

#### Руководитель (`showChiefMenu`)
- Все функции менеджера
- Утверждение документов
- Отклонение документов

#### Администратор безопасности (`showSecurityAdminMenu`)
- Все функции руководителя
- Просмотр журнала аудита

### 5.3. Разграничение доступа
**Реализация:** `Menu::hasPermission()`

- Проверка прав доступа перед выполнением операций
- Логирование попыток несанкционированного доступа

**Файлы:** `menu.h`, `menu.cpp` (строки 850-1125)

---

## 6. ДОПОЛНИТЕЛЬНЫЕ КОМПОНЕНТЫ

### 6.1. Журнал аудита
**Реализация:** `Audit` класс

- Логирование всех действий пользователей
- Логирование операций с документами
- Логирование попыток доступа
- Хранение в файле `audit.log`

**Файлы:** `Audit.h`, `Audit.cpp`

### 6.2. Хранение данных
- Документы: бинарный файл `documents.bin`
- Пользователи: бинарный файл `users.bin`
- Журнал аудита: текстовый файл `audit.log`

**Файлы:** `menu.cpp` (строки 111-250, 252-306, 47-110, 83-108)

---

## ЗАКЛЮЧЕНИЕ

Прототип системы защищенного электронного документооборота (ЗЭДКД) полностью соответствует всем требованиям:

✅ **Комплекс программ, реализующих технологии защиты:**
   - Обеспечение конфиденциальности (шифрование)
   - Защита целостности (хеширование)
   - Обеспечение аутентификации (проверка учетных данных)
   - Защита авторства и невозможности отказа (электронная подпись)

✅ **Подсистема генерации ключей шифрования и аутентификации**

✅ **Интерактивные схемы прохождения учета для документов разных видов**

✅ **Набор связанных со схемой электронных учетных форм**

✅ **Общий интерфейс для управления прототипом**

Все компоненты реализованы, задокументированы и протестированы.
