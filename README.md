# Система защищенного электронного документооборота (ЗЭДКД)

Консольное приложение на C++ для управления конфиденциальными банковскими документами с криптографической защитой.

## Описание

Прототип системы защищенного электронного документооборота для банковского отдела, обеспечивающий:
- Аутентификацию пользователей с ролевым доступом
- Криптографическое шифрование документов
- Электронную подпись документов
- Журнал аудита всех операций
- Разграничение доступа по ролям

## Типы документов

- **Кредитная заявка** (credit_application)
- **Кредитный договор** (credit_contract)
- **Внутренний приказ** (internal_order)

## Роли пользователей

### Operator (Оператор)
- Создание документов
- Просмотр документов
- Чтение содержимого документов

### Manager (Менеджер)
- Все права оператора
- Подписание документов

### Chief (Руководитель)
- Все права менеджера
- Утверждение документов
- Отклонение документов

### Security Admin (Администратор безопасности)
- Все права руководителя
- Просмотр журнала аудита
- Полный доступ ко всем документам

## Предустановленные пользователи

| Имя пользователя | Пароль | Роль |
|------------------|--------|------|
| operator1 | pass123 | Оператор |
| manager1 | pass123 | Менеджер |
| chief1 | pass123 | Руководитель |
| security_admin1 | pass123 | Администратор безопасности |

## Технические детали

### Криптографические модули (упрощенная имитация)

- **Шифрование**: XOR с приватным ключом пользователя (имитация ГОСТ 34.12)
- **Хеширование**: Упрощенный MD5-like алгоритм на основе std::hash
- **Электронная подпись**: hash(content) + private_key (имитация ГОСТ 34.10)
- **Проверка подписи**: Сравнение вычисленного хеша с подписью

### Хранение данных

- **Документы**: `documents.json` - JSON файл со всеми документами
- **Пользователи**: `users.json` - JSON файл с пользователями и ключами
- **Журнал аудита**: `audit.log` - текстовый файл со всеми действиями

## Сборка проекта

### Использование CMake (рекомендуется)

```bash
mkdir build
cd build
cmake ..
cmake --build .
```

### Использование Makefile

```bash
make
```

### Ручная компиляция

```bash
g++ -std=c++17 -Wall -Wextra -O2 -o banking_doc_mgmt main.cpp User.cpp Document.cpp CryptoModule.cpp Audit.cpp menu.cpp
```

## Запуск

```bash
./banking_doc_mgmt
```

или на Windows:

```bash
banking_doc_mgmt.exe
```

## Использование

1. При запуске приложения введите имя пользователя и пароль
2. После успешной аутентификации откроется меню, соответствующее вашей роли
3. Выберите нужную операцию из меню
4. Следуйте инструкциям на экране

### Пример работы

1. **Создание документа** (оператор):
   - Выберите тип документа
   - Введите содержимое
   - Документ автоматически шифруется и сохраняется

2. **Подписание документа** (менеджер/руководитель):
   - Выберите документ для подписания
   - Система создаст электронную подпись
   - Статус документа изменится на "signed"

3. **Утверждение документа** (руководитель):
   - Выберите подписанный документ
   - Система проверит подпись
   - Статус документа изменится на "approved"

4. **Просмотр журнала аудита** (администратор безопасности):
   - Все действия пользователей записываются в `audit.log`
   - Администратор может просмотреть полный журнал

## Структура проекта

```
Banking_doc_mgmt_system/
├── main.cpp              # Точка входа приложения
├── User.h/cpp            # Класс пользователя и аутентификация
├── Document.h/cpp        # Класс документа
├── CryptoModule.h/cpp    # Криптографические операции
├── Audit.h/cpp           # Журнал аудита
├── menu.h/cpp            # Консольный интерфейс
├── CMakeLists.txt        # Файл конфигурации CMake
├── Makefile              # Makefile для сборки
└── README.md             # Документация
```

## Статусы документов

- **draft** - Черновик (только создан)
- **signed** - Подписан (менеджером)
- **approved** - Утвержден (руководителем)
- **rejected** - Отклонен (руководителем)

## Безопасность

⚠️ **Важно**: Это прототип для учебных целей. Криптографические алгоритмы упрощены и не должны использоваться в реальных системах.

В реальной системе необходимо использовать:
- Сертифицированные алгоритмы ГОСТ 34.10, ГОСТ 34.11, ГОСТ 34.12
- Надежное хранение ключей (HSM, защищенные хранилища)
- Сетевая безопасность (TLS/SSL)
- Регулярные аудиты безопасности

## Требования

- C++17 или выше
- Компилятор с поддержкой стандартной библиотеки C++17
- CMake 3.10+ (опционально, для сборки через CMake)

## Лицензия

Учебный проект для курсовой работы по ТЗД (Технологии защиты данных).
